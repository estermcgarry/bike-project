<!DOCTYPE html>
<html>
<head>
    <title>Dispay Weather</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>

    </style>
</head>
<body>
<p>Date: <span id="date"></span><br/></p>
<p>Time: <span id="time"></span></p>
<p>Icon: <span id="icon"></span></p>
<p>Temperature: <span id="temperature"></span></p>
<p>Rainfall: <span id="rainfall"></span></p>
<p>Windspeed: <span id="windspeed"></span></p>
<script>

//Information from weather api stored as object type
var weather_info = {{ weather_info|safe }};
console.log(weather_info);
console.log('This is weather_info variable: ' + typeof weather_info);

//Convert object into string, create a array with 6 string elements
var weatherArray = JSON.stringify(weather_info);
console.log(weatherArray)
console.log('This is weather_Array variable: ' + typeof weatherArray);

// Split string by , character
const splitString = weatherArray.split(",");
console.log(splitString)
console.log('This is splitString variable: ' + typeof splitString);

window.onload = function(){
//Split each element of array by " and append result to new array
var i;
var newArray = [];
for (i = 0; i < splitString.length; i++) {
   var temp = splitString[i]
   const splitString2 = temp.split("\"");
   newArray.push(splitString2[3])
   //console.log('This is splitString2 inside loop: ' + splitString2)
   //console.log('New array with third element: ' + newArray)
}
document.getElementById("date").innerHTML = newArray[0];
document.getElementById("time").innerHTML = newArray[1];
document.getElementById("icon").innerHTML = newArray[2];
document.getElementById("temperature").innerHTML = newArray[3];
document.getElementById("rainfall").innerHTML = newArray[4];
document.getElementById("windspeed").innerHTML = newArray[5];

};


    </script>
<script src='https://api.darksky.net/forecast/313018b2afc91b7825d89c2740c19873/53.3498,-6.0' async defer></script>
</body>
</html>